---
import Layout from './BaseLayout.tsx';
import { getNoindexPaths } from '../../utils/getNoindexPaths.ts';
import { ViewTransitions } from 'astro:transitions';

const noindexPaths = getNoindexPaths();
const currentPath = new URL(Astro.request.url).pathname;
const shouldNoindex = noindexPaths.some(path => currentPath.includes(path));

---
<Layout shouldNoindex={shouldNoindex}>
  <slot />
  <ViewTransitions />
  <script src="/toggle-theme.js" async />
</Layout>